<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="utf-8">
<title>Spielkartensammlung</title>
<meta name="description" content="">
<meta name="author" content="DrTTom">
<!-- meta name="viewport" content="width=device-width, initial-scale=1"-->
<link rel="stylesheet" href="libs/blaze@3.2.0.css" />
<link rel="stylesheet" href="cards.css" />
</head>

<body>
	<!-- Main View -->
	<div id="app">
		<p>Oben kommt irgendein Menü</p>
		<menue></menue>
		<questions></questions>
		<cardlist></cardlist>
		<p>hier drüber sollte das dynamische Zeugs stehen</p>
	</div>

	<!-- HTML for components/questions.js <questions> (Shows the current active Question and offers a textinputfield)-->
	<script type="text/x-template" id="questionsTemplate">
        <div>
          <h3>Zählen und Messen</h3>
          <div v-for="currentQuestion in questionGroup"> 
            <div>{{currentQuestion.text}}</div>
            <div><input v-if="typeof currentQuestion.allowedValues =='undefined'" type="text" v-model="currentQuestion.value" v-on:keypress="answerQuestion" />
            <select v-if="typeof currentQuestion.allowedValues !='undefined'"  v-model="currentQuestion.value" v-on:change="answerQuestion">
                 <option v-for="val in currentQuestion.allowedValues">{{val}}</option>
            </select>
         </div>
       </div>
        <input type="submit" value="Zurück"/><input type="submit" value="Weiter"/>
        </div>
    </script>

	<!-- HTML for components/cardList.js <cardlist> (Overview over all found cards)-->
	<script type="text/x-template" id="cardListTemplate">
        <div>
            <h2>{{numberMatching}}-{{numberPossible}} Ergebnisse:</h2>
            <ul id="cardContainer">
                <card v-for="card in allCards" :data="card" :detaillevel="detaillevel"></card>
            </ul>
    </script>

	<script type="text/x-template" id="cardTemplate">
        <li class="c-card u-high" v-bind:class="detaillevel">
            <div class="c-card__item c-card__item--divider" v-on:click="showFully"> {{data.primKey}}. {{data.attributes.name}} 
                <span v-if="data.attributes.maker && detaillevel=='highDetail'">({{data.attributes.maker}})</span>
            </div> 
            <div class="o-grid" v-on:click="showFully">
               <div class="o-grid__cell smaller">
               <p>
                  <span v-if="data.attributes.maker && detaillevel=='lowDetail'">Hersteller: {{data.attributes.maker}}</br></span>
                  {{data.attributes.numberCards}} Karten</br>
                  Format: {{data.attributes.format}}</br>
                  Index: {{data.attributes.index}}</br>
                  <span v-if="detaillevel=='highDetail'">Anzahl Index: {{data.attributes.numIndex}}</span>
               </p>
               <span v-if="detaillevel=='highDetail'">
                  <p v-if="data.attributes.designer">Entwurf {{data.attributes.designer}}</p>
                  <p v-if="data.attributes.printedLatest">Gedruckt spätestens {{data.attributes.printedLatest}}</p>
               </span>
            </div>
            <div class="o-grid__cell" v-if="detaillevel=='highDetail'">
               <img v-if="data.attributes.image" v-bind:src="'http://localhost:4567/download/'+data.attributes.image" />
            </div>
            </div>
            <div v-if="showfully" class="c-overlay">
               <div class="o-modal">
                  <div class="c-card">
                     <header class="c-card__header c-card__item--divider">
                        <button type="button" class="c-button c-button--close" v-on:click="hideOverlay">×</button>
                            <h2 class="c-heading">{{data.primKey}}. {{data.attributes.name}} </h2>
                    </header>
                    <div class="c-card__body">
                       <div class="o-grid">
                         <div class="o-grid__cell">
                           <p>
                             {{data.attributes.numberCards}} Karten</br>
                             Farben: {{data.attributes.suits}}</br>
                             <span v-if="data.attributes.pattern">Bild: {{data.attributes.pattern}}</br></span>
                             Format: {{data.attributes.format}}</br>
                             Auge des Königs: {{data.attributes.specialMeasure}}</br>
                             Index: {{data.attributes.index}}</br>
                             Anzahl Index: {{data.attributes.numIndex}}
                          </p>
                          <p>
                             <span v-if="data.attributes.maker">Hersteller: {{data.attributes.maker}}</br></span>
                             <span v-if="data.attributes.designer">Entwurf {{data.attributes.designer}}</span>
                          </p>
                          <p v-if="data.attributes.printedLatest || data.attributes.printedEarliest">Gedruckt 
                          <span v-if="data.attributes.printedEarliest"> frühestens {{data.attributes.printedEarliest}}</span>
                          <span v-if="data.attributes.printedLatest"> spätestens {{data.attributes.printedLatest}}</span>
                          </p>
                          <p>
                          <span v-if="data.attributes.bought">Erworben {{data.attributes.bought}},</span> {{data.attributes.condition}}, <br/>befindet sich in {{data.attributes.location}}</p>
                          <p>{{data.attributes.remark}}</p>
                        </div>
                        <div class="o-grid__cell width300">
                           <img v-if="data.attributes.image" v-bind:src="'http://localhost:4567/download/'+data.attributes.image" />
                        </div>
                    </div>
                    <footer class="c-card__footer">
                       <button type="button" class="c-button c-button--brand">Edit</button>
                    </footer>
                  </div>
               </div>
            </div> 
         </li>
            
    </script>


	<!-- Vue Js Framework and Resource Loader -->
	<script src="libs/vue.min.js"></script>
	<script src="libs/vue-resource.min.js"></script>

	<!-- Contains all named events -->
	<script src="cardEvents.js"></script>

	<!-- Custom Vue Components -->
	<script src="components/answeredQuestions.js"></script>
	<script src="components/questions.js"></script>
	<script src="components/cardList.js"></script>
	<script src="components/card.js"></script>
	<script src="components/greenLabel.js"></script>

	<!-- Main Application -->
	<script src="cards.js"></script>
</body>

</html>
