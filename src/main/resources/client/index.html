<!DOCTYPE html>
<html lang="en">
<head>
    <title>Spielkartensammlung</title>
    <meta charset="utf-8"/>
    <!DOCTYPE html>
    <link rel="stylesheet" href="components.css">
    <script src="../../node_modules/@webcomponents/webcomponentsjs/webcomponents-bundle.js"></script>
    <script src="domBuilder.js"></script>
    <script src="components.js"></script>
    <script src="cardcomponents.js"></script>
    <script src="fetch.js"></script>
</head>
<body>

<modal-dialog></modal-dialog>
<tab-row id="yyy"></tab-row>
<search-view id="xxx"></search-view>

<script>
    let tabs = $('#yyy');
    tabs.add('Kartenspiele', () => loadSearchView('deck')).click();
    tabs.add('Hersteller', () => loadSearchView('maker'));
    tabs.add('Firmenzeichen', () => loadSearchView('makerSign'));
    tabs.add('Steuerstempel', () => loadSearchView('taxStamp'));
    tabs.add('Bild', () => loadSearchView('pattern'));
    tabs.add('');
    tabs.add('Import/Export', () =>
        $('modal-dialog').show('Import und Export', BuildNode.tag('import-export').get()));

    function loadSearchView(type) {
        getJson('/collected/' + type + '/search', x => $('#xxx').load(x));
    }
</script>

</body>
</html>